(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[333],{9350:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/plots/[id]",function(){return n(4201)}])},4201:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var a=n(5893),s=n(1163),i=n(7294),r=n(3727),d=n(6394),o=n(5133);function u(){let e=d.oy,{id:t}=(0,s.useRouter)().query,[n,u]=(0,i.useState)([]);return(0,i.useEffect)(()=>{if(t){if(!e||!d.I8){u([]);return}(async()=>{let e=d.I8.currentUser;if(!e)return;let n=await e.getIdToken(),a=await fetch("/api/plots/".concat(t,"/timeseries"),{headers:{Authorization:"Bearer ".concat(n)}});u(((await a.json()).items||[]).map(e=>({date:e.date,ndviStats:e.ndviStats})))})()}},[t]),(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/20",children:[(0,a.jsx)(r.Z,{}),(0,a.jsxs)("main",{className:"max-w-6xl mx-auto p-6",children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold mb-2",children:["Plot ",t]}),(0,a.jsxs)("div",{className:"rounded border bg-card p-4",children:[(0,a.jsx)("div",{className:"font-medium mb-2",children:"NDVI Over Time"}),(0,a.jsx)(o.Z,{data:n.map(e=>{var t;return{date:e.date,ndvi:(null===(t=e.ndviStats)||void 0===t?void 0:t.mean)||0}})})]})]})]})}},1163:function(e,t,n){e.exports=n(3035)}},function(e){e.O(0,[551,118,336,948,888,774,179],function(){return e(e.s=9350)}),_N_E=e.O()}]);