"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[347],{3704:function(e,t,r){r.d(t,{Z:function(){return n}});class n{async decode(e,t){let r=await this.decodeBlock(t),n=e.Predictor||1;if(1!==n){let t=!e.StripOffsets;return function(e,t,r,n,l,s){if(!t||1===t)return e;for(let e=0;e<l.length;++e){if(l[e]%8!=0)throw Error("When decoding with predictor, only multiple of 8 bits are supported.");if(l[e]!==l[0])throw Error("When decoding with predictor, all samples must have the same size.")}let a=l[0]/8,i=2===s?1:l.length;for(let s=0;s<n;++s){let n;if(s*i*r*a>=e.byteLength)break;if(2===t){switch(l[0]){case 8:n=new Uint8Array(e,s*i*r*a,i*r*a);break;case 16:n=new Uint16Array(e,s*i*r*a,i*r*a/2);break;case 32:n=new Uint32Array(e,s*i*r*a,i*r*a/4);break;default:throw Error(`Predictor 2 not allowed with ${l[0]} bits per sample.`)}!function(e,t){let r=e.length-t,n=0;do{for(let r=t;r>0;r--)e[n+t]+=e[n],n++;r-=t}while(r>0)}(n,i,a)}else 3===t&&function(e,t,r){let n=0,l=e.length,s=l/r;for(;l>t;){for(let r=t;r>0;--r)e[n+t]+=e[n],++n;l-=t}let a=e.slice();for(let t=0;t<s;++t)for(let n=0;n<r;++n)e[r*t+n]=a[(r-n-1)*s+t]}(n=new Uint8Array(e,s*i*r*a,i*r*a),i,a)}return e}(r,n,t?e.TileWidth:e.ImageWidth,t?e.TileLength:e.RowsPerStrip||e.ImageLength,e.BitsPerSample,e.PlanarConfiguration)}return r}}},9347:function(e,t,r){r.r(t),r.d(t,{default:function(){return i}});var n=r(3704);let l=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);function s(e,t){let r,n=0,l=[],s=16;for(;s>0&&!e[s-1];)--s;l.push({children:[],index:0});let a=l[0];for(let i=0;i<s;i++){for(let s=0;s<e[i];s++){for((a=l.pop()).children[a.index]=t[n];a.index>0;)a=l.pop();for(a.index++,l.push(a);l.length<=i;)l.push(r={children:[],index:0}),a.children[a.index]=r.children,a=r;n++}i+1<s&&(l.push(r={children:[],index:0}),a.children[a.index]=r.children,a=r)}return l[0].children}class a{constructor(){this.jfif=null,this.adobe=null,this.quantizationTables=[],this.huffmanTablesAC=[],this.huffmanTablesDC=[],this.resetFrames()}resetFrames(){this.frames=[]}parse(e){let t=0;function r(){let r=e[t]<<8|e[t+1];return t+=2,r}let n=r();if(65496!==n)throw Error("SOI not found");for(n=r();65497!==n;){switch(n){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:{let l=function(){let n=r(),l=e.subarray(t,t+n-2);return t+=l.length,l}();65504===n&&74===l[0]&&70===l[1]&&73===l[2]&&70===l[3]&&0===l[4]&&(this.jfif={version:{major:l[5],minor:l[6]},densityUnits:l[7],xDensity:l[8]<<8|l[9],yDensity:l[10]<<8|l[11],thumbWidth:l[12],thumbHeight:l[13],thumbData:l.subarray(14,14+3*l[12]*l[13])}),65518===n&&65===l[0]&&100===l[1]&&111===l[2]&&98===l[3]&&101===l[4]&&0===l[5]&&(this.adobe={version:l[6],flags0:l[7]<<8|l[8],flags1:l[9]<<8|l[10],transformCode:l[11]});break}case 65499:{let n=r()+t-2;for(;t<n;){let n=e[t++],s=new Int32Array(64);if(n>>4==0)for(let r=0;r<64;r++)s[l[r]]=e[t++];else if(n>>4==1)for(let e=0;e<64;e++)s[l[e]]=r();else throw Error("DQT: invalid table spec");this.quantizationTables[15&n]=s}break}case 65472:case 65473:case 65474:{let l;r();let s={extended:65473===n,progressive:65474===n,precision:e[t++],scanLines:r(),samplesPerLine:r(),components:{},componentsOrder:[]},a=e[t++];for(let r=0;r<a;r++){l=e[t];let r=e[t+1]>>4,n=15&e[t+1],a=e[t+2];s.componentsOrder.push(l),s.components[l]={h:r,v:n,quantizationIdx:a},t+=3}!function(e){let t,r,n=0,l=0;for(r in e.components)e.components.hasOwnProperty(r)&&(n<(t=e.components[r]).h&&(n=t.h),l<t.v&&(l=t.v));let s=Math.ceil(e.samplesPerLine/8/n),a=Math.ceil(e.scanLines/8/l);for(r in e.components)if(e.components.hasOwnProperty(r)){t=e.components[r];let i=Math.ceil(Math.ceil(e.samplesPerLine/8)*t.h/n),o=Math.ceil(Math.ceil(e.scanLines/8)*t.v/l),f=s*t.h,c=a*t.v,h=[];for(let e=0;e<c;e++){let e=[];for(let t=0;t<f;t++)e.push(new Int32Array(64));h.push(e)}t.blocksPerLine=i,t.blocksPerColumn=o,t.blocks=h}e.maxH=n,e.maxV=l,e.mcusPerLine=s,e.mcusPerColumn=a}(s),this.frames.push(s);break}case 65476:{let n=r();for(let r=2;r<n;){let n=e[t++],l=new Uint8Array(16),a=0;for(let r=0;r<16;r++,t++)l[r]=e[t],a+=l[r];let i=new Uint8Array(a);for(let r=0;r<a;r++,t++)i[r]=e[t];r+=17+a,n>>4==0?this.huffmanTablesDC[15&n]=s(l,i):this.huffmanTablesAC[15&n]=s(l,i)}break}case 65501:r(),this.resetInterval=r();break;case 65498:{r();let n=e[t++],s=[],a=this.frames[0];for(let r=0;r<n;r++){let r=a.components[e[t++]],n=e[t++];r.huffmanTableDC=this.huffmanTablesDC[n>>4],r.huffmanTableAC=this.huffmanTablesAC[15&n],s.push(r)}let i=e[t++],o=e[t++],f=e[t++],c=function(e,t,r,n,s,a,i,o,f){let c,h,u,d,m,b,p,w,k;let{mcusPerLine:g,progressive:y}=r,P=t,T=0,A=0;function C(){if(A>0)return A--,T>>A&1;if(255===(T=e[P++])){let t=e[P++];if(t)throw Error(`unexpected marker: ${(T<<8|t).toString(16)}`)}return A=7,T>>>7}function x(e){let t,r=e;for(;null!==(t=C());){if("number"==typeof(r=r[t]))return r;if("object"!=typeof r)throw Error("invalid huffman sequence")}return null}function v(e){let t=e,r=0;for(;t>0;){let e=C();if(null===e)return;r=r<<1|e,--t}return r}function E(e){let t=v(e);return t>=1<<e-1?t:t+(-1<<e)+1}let L=0,I=0,U=n.length;p=y?0===a?0===o?function(e,t){let r=x(e.huffmanTableDC),n=0===r?0:E(r)<<f;e.pred+=n,t[0]=e.pred}:function(e,t){t[0]|=C()<<f}:0===o?function(e,t){if(L>0){L--;return}let r=a;for(;r<=i;){let n=x(e.huffmanTableAC),s=15&n,a=n>>4;if(0===s){if(a<15){L=v(a)+(1<<a)-1;break}r+=16}else t[l[r+=a]]=E(s)*(1<<f),r++}}:function(e,t){let r=a,n=0;for(;r<=i;){let s=l[r],a=t[s]<0?-1:1;switch(I){case 0:{let t=x(e.huffmanTableAC),r=15&t;if(n=t>>4,0===r)n<15?(L=v(n)+(1<<n),I=4):(n=16,I=1);else{if(1!==r)throw Error("invalid ACn encoding");c=E(r),I=n?2:3}continue}case 1:case 2:t[s]?t[s]+=(C()<<f)*a:0==--n&&(I=2===I?3:0);break;case 3:t[s]?t[s]+=(C()<<f)*a:(t[s]=c<<f,I=0);break;case 4:t[s]&&(t[s]+=(C()<<f)*a)}r++}4===I&&0==--L&&(I=0)}:function(e,t){let r=x(e.huffmanTableDC),n=0===r?0:E(r);e.pred+=n,t[0]=e.pred;let s=1;for(;s<64;){let r=x(e.huffmanTableAC),n=15&r,a=r>>4;if(0===n){if(a<15)break;s+=16}else t[l[s+=a]]=E(n),s++}};let D=0;k=1===U?n[0].blocksPerLine*n[0].blocksPerColumn:g*r.mcusPerColumn;let q=s||k;for(;D<k;){for(u=0;u<U;u++)n[u].pred=0;if(L=0,1===U)for(b=0,h=n[0];b<q;b++)!function(e,t,r){let n=r/e.blocksPerLine|0,l=r%e.blocksPerLine;t(e,e.blocks[n][l])}(h,p,D),D++;else for(b=0;b<q;b++){for(u=0;u<U;u++){let{h:e,v:t}=h=n[u];for(d=0;d<t;d++)for(m=0;m<e;m++)!function(e,t,r,n,l){let s=(r/g|0)*e.v+n,a=r%g*e.h+l;t(e,e.blocks[s][a])}(h,p,D,d,m)}if(++D===k)break}if(A=0,(w=e[P]<<8|e[P+1])<65280)throw Error("marker was not found");if(w>=65488&&w<=65495)P+=2;else break}return P-t}(e,t,a,s,this.resetInterval,i,o,f>>4,15&f);t+=c;break}case 65535:255!==e[t]&&t--;break;default:if(255===e[t-3]&&e[t-2]>=192&&e[t-2]<=254){t-=3;break}throw Error(`unknown JPEG marker ${n.toString(16)}`)}n=r()}}getResult(){let{frames:e}=this;if(0===this.frames.length)throw Error("no frames were decoded");this.frames.length>1&&console.warn("more than one frame is not supported");for(let e=0;e<this.frames.length;e++){let t=this.frames[e].components;for(let e of Object.keys(t))t[e].quantizationTable=this.quantizationTables[t[e].quantizationIdx],delete t[e].quantizationIdx}let t=e[0],{components:r,componentsOrder:n}=t,l=[],s=t.samplesPerLine,a=t.scanLines;for(let e=0;e<n.length;e++){let s=r[n[e]];l.push({lines:function(e,t){let r=[],{blocksPerLine:n,blocksPerColumn:l}=t,s=n<<3,a=new Int32Array(64),i=new Uint8Array(64);for(let e=0;e<l;e++){let l=e<<3;for(let e=0;e<8;e++)r.push(new Uint8Array(s));for(let s=0;s<n;s++){!function(e,r,n){let l,s,a,i,o,f,c,h,u,d;let m=t.quantizationTable;for(d=0;d<64;d++)n[d]=e[d]*m[d];for(d=0;d<8;++d){let e=8*d;if(0===n[1+e]&&0===n[2+e]&&0===n[3+e]&&0===n[4+e]&&0===n[5+e]&&0===n[6+e]&&0===n[7+e]){u=5793*n[0+e]+512>>10,n[0+e]=u,n[1+e]=u,n[2+e]=u,n[3+e]=u,n[4+e]=u,n[5+e]=u,n[6+e]=u,n[7+e]=u;continue}l=5793*n[0+e]+128>>8,s=5793*n[4+e]+128>>8,a=n[2+e],i=n[6+e],o=2896*(n[1+e]-n[7+e])+128>>8,h=2896*(n[1+e]+n[7+e])+128>>8,f=n[3+e]<<4,c=n[5+e]<<4,u=l-s+1>>1,l=l+s+1>>1,s=u,u=3784*a+1567*i+128>>8,a=1567*a-3784*i+128>>8,i=u,u=o-c+1>>1,o=o+c+1>>1,c=u,u=h+f+1>>1,f=h-f+1>>1,h=u,u=l-i+1>>1,l=l+i+1>>1,i=u,u=s-a+1>>1,s=s+a+1>>1,a=u,u=2276*o+3406*h+2048>>12,o=3406*o-2276*h+2048>>12,h=u,u=799*f+4017*c+2048>>12,f=4017*f-799*c+2048>>12,c=u,n[0+e]=l+h,n[7+e]=l-h,n[1+e]=s+c,n[6+e]=s-c,n[2+e]=a+f,n[5+e]=a-f,n[3+e]=i+o,n[4+e]=i-o}for(d=0;d<8;++d){let e=d;if(0===n[8+e]&&0===n[16+e]&&0===n[24+e]&&0===n[32+e]&&0===n[40+e]&&0===n[48+e]&&0===n[56+e]){u=5793*n[d+0]+8192>>14,n[0+e]=u,n[8+e]=u,n[16+e]=u,n[24+e]=u,n[32+e]=u,n[40+e]=u,n[48+e]=u,n[56+e]=u;continue}l=5793*n[0+e]+2048>>12,s=5793*n[32+e]+2048>>12,a=n[16+e],i=n[48+e],o=2896*(n[8+e]-n[56+e])+2048>>12,h=2896*(n[8+e]+n[56+e])+2048>>12,f=n[24+e],c=n[40+e],u=l-s+1>>1,l=l+s+1>>1,s=u,u=3784*a+1567*i+2048>>12,a=1567*a-3784*i+2048>>12,i=u,u=o-c+1>>1,o=o+c+1>>1,c=u,u=h+f+1>>1,f=h-f+1>>1,h=u,u=l-i+1>>1,l=l+i+1>>1,i=u,u=s-a+1>>1,s=s+a+1>>1,a=u,u=2276*o+3406*h+2048>>12,o=3406*o-2276*h+2048>>12,h=u,u=799*f+4017*c+2048>>12,f=4017*f-799*c+2048>>12,c=u,n[0+e]=l+h,n[56+e]=l-h,n[8+e]=s+c,n[48+e]=s-c,n[16+e]=a+f,n[40+e]=a-f,n[24+e]=i+o,n[32+e]=i-o}for(d=0;d<64;++d){let e=128+(n[d]+8>>4);e<0?r[d]=0:e>255?r[d]=255:r[d]=e}}(t.blocks[e][s],i,a);let n=0,o=s<<3;for(let e=0;e<8;e++){let t=r[l+e];for(let e=0;e<8;e++)t[o+e]=i[n++]}}}return r}(0,s),scaleX:s.h/t.maxH,scaleY:s.v/t.maxV})}let i=new Uint8Array(s*a*l.length),o=0;for(let e=0;e<a;++e)for(let t=0;t<s;++t)for(let r=0;r<l.length;++r){let n=l[r];i[o]=n.lines[0|e*n.scaleY][0|t*n.scaleX],++o}return i}}class i extends n.Z{constructor(e){super(),this.reader=new a,e.JPEGTables&&this.reader.parse(e.JPEGTables)}decodeBlock(e){return this.reader.resetFrames(),this.reader.parse(new Uint8Array(e)),this.reader.getResult().buffer}}}}]);