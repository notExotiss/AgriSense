exports.id=598,exports.ids=[598],exports.modules={2751:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{Z:()=>p});var r=s(997),n=s(6689),o=s.n(n),i=s(1664),d=s.n(i),l=s(317),c=s(7716),m=s(6789),h=s(7232),u=s(7497),x=s(3115),f=e([l,u,x]);function p(){let[e,t]=o().useState(!1),[s,a]=o().useState([]);o().useEffect(()=>{let e=e=>a(Array.isArray(e.detail)?e.detail:[]);return window.addEventListener("agrisense:alerts",e),()=>window.removeEventListener("agrisense:alerts",e)},[]);let n=s.filter(e=>"critical"===e.type).length,i=o().useMemo(()=>{let e={};for(let t of s){let s=t.plotName||t.plotId||"Current AOI";e[s]||(e[s]=[]),e[s].push(t)}return e},[JSON.stringify(s)]),[f,p]=o().useState({});return(0,r.jsxs)("nav",{className:"border-b bg-background/80 backdrop-blur-sm sticky top-0 z-50",children:[r.jsx("div",{className:"container mx-auto px-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(c.Z,{className:"h-6 w-6 text-blue-600"}),r.jsx(d(),{href:"/",className:"font-bold text-xl",children:"AgriSense"})]}),(0,r.jsxs)("div",{className:"hidden md:flex items-center gap-6",children:[r.jsx(d(),{href:"/dashboard",className:"text-sm font-medium hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Dashboard"}),r.jsx(d(),{href:"/plots",className:"text-sm font-medium hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Plots"}),r.jsx(d(),{href:"/account",className:"text-sm font-medium hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Account"}),(0,r.jsxs)("button",{className:"relative",onClick:()=>t(e=>!e),"aria-label":"Alerts",children:[r.jsx(m.Z,{className:"h-5 w-5"}),s.length>0&&r.jsx("span",{className:"absolute -top-1 -right-1 text-[10px] bg-red-600 text-white rounded-full px-1",children:n||s.length})]}),r.jsx(l.Z,{})]}),(0,r.jsxs)(x.yo,{children:[r.jsx(x.aM,{asChild:!0,className:"md:hidden",children:r.jsx(u.z,{variant:"ghost",size:"sm",children:r.jsx(h.Z,{className:"h-5 w-5"})})}),(0,r.jsxs)(x.ue,{children:[(0,r.jsxs)(x.Tu,{children:[r.jsx(x.bC,{children:"Navigation"}),r.jsx(x.Ei,{children:"Access all AgriSense features"})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-4 mt-6",children:[r.jsx(d(),{href:"/dashboard",className:"text-sm font-medium",children:"Dashboard"}),r.jsx(d(),{href:"/plots",className:"text-sm font-medium",children:"Plots"}),r.jsx(d(),{href:"/account",className:"text-sm font-medium",children:"Account"}),r.jsx(l.Z,{})]})]})]})]})}),e&&(0,r.jsxs)("div",{className:"fixed right-4 top-16 z-50 w-80 rounded-lg border bg-background shadow",children:[r.jsx("div",{className:"p-3 border-b font-medium",children:"Alerts"}),r.jsx("div",{className:"max-h-80 overflow-auto p-2 space-y-2 text-sm",children:0===Object.keys(i).length?r.jsx("div",{className:"text-muted-foreground p-2",children:"No alerts"}):Object.entries(i).map(([e,t])=>(0,r.jsxs)("div",{className:"rounded border",children:[(0,r.jsxs)("button",{className:"w-full text-left p-2 font-medium flex items-center justify-between",onClick:()=>p(t=>({...t,[e]:!t[e]})),children:[r.jsx("span",{className:"break-words",children:e}),r.jsx("span",{className:"text-xs opacity-70",children:t.length})]}),f[e]&&r.jsx("div",{className:"p-2 space-y-2",children:t.map(e=>(0,r.jsxs)("div",{className:`p-2 rounded border overflow-hidden break-words ${"critical"===e.type?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800":"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800"}`,children:[r.jsx("div",{className:"font-medium break-words",children:e.message}),r.jsx("div",{className:"opacity-80 break-words",children:e.details})]},e.id))})]},e))})]})]})}[l,u,x]=f.then?(await f)():f,a()}catch(e){a(e)}})},317:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{Z:()=>c});var r=s(997),n=s(690),o=s(8532),i=s(250),d=s(7497),l=e([n,d]);function c(){let{theme:e,setTheme:t}=(0,n.useTheme)(),s="dark"===e;return r.jsx(d.z,{variant:"ghost",size:"icon","aria-label":"Toggle theme",onClick:()=>t(s?"light":"dark"),children:s?r.jsx(o.Z,{className:"h-4 w-4"}):r.jsx(i.Z,{className:"h-4 w-4"})})}[n,d]=l.then?(await l)():l,a()}catch(e){a(e)}})},7497:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{z:()=>c});var r=s(997),n=s(6689),o=s(6926),i=s(1966),d=e([o,i]);[o,i]=d.then?(await d)():d;let l=(0,o.cva)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:opacity-90",secondary:"bg-secondary text-secondary-foreground hover:opacity-90",outline:"border bg-transparent hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground",destructive:"bg-destructive text-destructive-foreground hover:opacity-90"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef(({className:e,variant:t,size:s,...a},n)=>r.jsx("button",{className:(0,i.cn)(l({variant:t,size:s,className:e})),ref:n,...a}));c.displayName="Button",a()}catch(e){a(e)}})},3115:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{Ei:()=>y,Tu:()=>b,aM:()=>h,bC:()=>g,ue:()=>p,yo:()=>m});var r=s(997),n=s(6689),o=s(7715),i=s(6926),d=s(1352),l=s(7583),c=e([o,i,l]);[o,i,l]=c.then?(await c)():c;let m=o.Root,h=o.Trigger;o.Close;let u=o.Portal,x=n.forwardRef(({className:e,...t},s)=>r.jsx(o.Overlay,{className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:s}));x.displayName=o.Overlay.displayName;let f=(0,i.cva)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),p=n.forwardRef(({side:e="right",className:t,children:s,...a},n)=>(0,r.jsxs)(u,{children:[r.jsx(x,{}),(0,r.jsxs)(o.Content,{ref:n,className:(0,l.cn)(f({side:e}),t),...a,children:[(0,r.jsxs)(o.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[r.jsx(d.Z,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]}),s]})]}));p.displayName=o.Content.displayName;let b=({className:e,...t})=>r.jsx("div",{className:(0,l.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...t});b.displayName="SheetHeader";let g=n.forwardRef(({className:e,...t},s)=>r.jsx(o.Title,{ref:s,className:(0,l.cn)("text-lg font-semibold text-foreground",e),...t}));g.displayName=o.Title.displayName;let y=n.forwardRef(({className:e,...t},s)=>r.jsx(o.Description,{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",e),...t}));y.displayName=o.Description.displayName,a()}catch(e){a(e)}})},1966:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{cn:()=>i});var r=s(6593),n=s(8097),o=e([r,n]);function i(...e){return(0,n.twMerge)((0,r.clsx)(e))}[r,n]=o.then?(await o)():o,a()}catch(e){a(e)}})},7583:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{cn:()=>i});var r=s(6593),n=s(8097),o=e([r,n]);function i(...e){return(0,n.twMerge)((0,r.clsx)(e))}[r,n]=o.then?(await o)():o,a()}catch(e){a(e)}})},1484:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{default:()=>m});var r=s(997);s(6764);var n=s(690),o=s(5152),i=s.n(o),d=s(968),l=s.n(d),c=e([n]);n=(c.then?(await c)():c)[0];let h=i()(()=>Promise.resolve().then(s.bind(s,7270)).then(e=>e.Toaster),{loadableGenerated:{modules:["_app.tsx -> sonner"]},ssr:!1});function m({Component:e,pageProps:t}){return(0,r.jsxs)(r.Fragment,{children:[r.jsx(l(),{children:r.jsx("script",{dangerouslySetInnerHTML:{__html:`
              (function() {
                try {
                  const theme = localStorage.getItem('theme') || 'system';
                  const isDark = theme === 'dark' || (theme === 'system' && window.matchMedia('(prefers-color-scheme: dark)').matches);
                  if (isDark) {
                    document.documentElement.classList.add('dark');
                  } else {
                    document.documentElement.classList.remove('dark');
                  }
                } catch (e) {}
              })();
            `}})}),(0,r.jsxs)(n.ThemeProvider,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!1,storageKey:"theme",children:[r.jsx(h,{richColors:!0,position:"top-center"}),r.jsx(e,{...t})]})]})}a()}catch(e){a(e)}})},6764:()=>{}};